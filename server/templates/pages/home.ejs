<div id="output">
  <center><h1>Manual Run</h1>
  <button onclick="runFor('weather')">Run Weather Generator Manually<br><span style="font-size:36px;">&#9925;</span></button>
  <button onclick="runFor('news')">Run News Generator Manually<br><span style="font-size:36px;">&#128240;</span></button>
  <button onclick="runFor('channel-offline')">Run Channel-Offline Generator Manually<br><span style="font-size:36px;">&#10060;</span></button>
  </center>
</div>
<br>
<div class="home-page-container">
  <div class="home-page-box">
  <center><h1>News</h1></center>
  <p>There is currently no important news</p>
</div>
  <div class="home-page-box">
  <center><h1>Health</h1></center>
  <p>Status: <span id="status"></span></p>

  <h2>Operating System Information</h2>
  <p>Platform: <span id="platform"></span></p>
  <p>Hostname: <span id="hostname"></span></p>
  <p>Release: <span id="release"></span></p>
  <p>Total Memory: <span id="totalMemory"></span> bytes</p>
  <p>Free Memory: <span id="freeMemory"></span> bytes</p>

  <script>
    const statusElement = document.getElementById('status');
    const platformElement = document.getElementById('platform');
    const hostnameElement = document.getElementById('hostname');
    const releaseElement = document.getElementById('release');
    const totalMemoryElement = document.getElementById('totalMemory');
    const freeMemoryElement = document.getElementById('freeMemory');

    fetch('http://127.0.0.1:3000/api/health')
      .then(response => {
        if (response.ok) {
          statusElement.innerText = 'OK';
          return response.json();
        } else {
          statusElement.innerText = 'Failed';
        }
      })
      .then(data => {
        platformElement.innerText = data.os.platform;
        hostnameElement.innerText = data.os.hostname;
        releaseElement.innerText = data.os.release;
        totalMemoryElement.innerText = data.os.totalMemory;
        freeMemoryElement.innerText = data.os.freeMemory;
      })
      .catch(error => {
        statusElement.innerText = 'Failed';
      });
  </script>
</div>
</div>

<script>
  function runFor(option) {

    const url = `http://127.0.0.1:3000/api/run/${option}`; // Provide the correct URL for your weather API
    // Set up the request options
    const options = {
      method: "GET", // Adjust the method based on your API requirements
      headers: {
        'Content-Type': 'application/json' // Adjust the Content-Type header based on your API requirements
      }
    };

    // Send the request
    fetch(url, options)
      .then(response => {
        if (response.ok) {
          console.log('Request succeeded');
        } else {
          console.error('Request failed');
        }
      })
      .catch(error => {
        // Handle any errors
        console.error('Error:', error);
      });
  }
</script>
